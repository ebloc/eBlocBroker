* NOTES

** Remove cache

- to delete all containers including its volumes use: ~docker rm -vf $(docker ps -aq)~
- to delete all the images: ~docker rmi -f $(docker images -aq)~

#+begin_src bash
remove_dangling () {
    docker rmi $(docker images -qa -f 'dangling=true') --force
    docker image ls
}

sudo systemctl start docker
sudo docker run eblocbroker

# docker run --name test -it eblocbroker bash
docker run -it eblocbroker bash
#+end_src

** Clean complete docker cache

#+begin_src bash
docker kill $(docker ps -q)
docker rmi $(docker images -a --filter=dangling=true -q) --force
docker rm $(docker ps --filter=status=exited --filter=status=created -q) --force
docker rmi $(docker images -a -q) --force
#+end_src

** PUSH

NOTE: Now in order to push the image just make sure the path which you are using must have your
username included in the tag.

#+begin_src bash
docker login -u eblocbroker -p <password>
docker tag eblocbroker:latest eblocbroker/app
docker push eblocbroker/app
#+end_src

~docker history --human --format "{{.CreatedBy}}: {{.Size}}" eblocbroker~

** Build

#+begin_src bash
docker build -t ebb:latest --progress plain .
#+end_src

** Compose-up

#+begin_src bash
docker-compose up -d
# or
docker-compose up --remove-orphans
#+end_src
